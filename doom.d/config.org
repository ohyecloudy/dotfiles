* lexical binding

  #+begin_src elisp
    ;;; config.el -*- lexical-binding: t; -*-
  #+end_src

* name, email

  #+begin_src elisp
    (setq user-full-name "Jongbin Oh"
          user-mail-address "ohyecloudy@gmail.com")
  #+end_src

  GPG configuration, email clients, file templates, snippets ë“±ì— ì‚¬ìš©í•  ì‹ ì› ì •ë³´ ì„¸íŒ…

* default setting

  #+begin_src elisp
    ;; If you use `org' and don't want your org files in the default location below,
    ;; change `org-directory'. It must be set before org loads!
    (setq org-directory "~/org/")

    ;; Whenever you reconfigure a package, make sure to wrap your config in an
    ;; `after!' block, otherwise Doom's defaults may override your settings. E.g.
    ;;
    ;;   (after! PACKAGE
    ;;     (setq x y))
    ;;
    ;; The exceptions to this rule:
    ;;
    ;;   - Setting file/directory variables (like `org-directory')
    ;;   - Setting variables which explicitly tell you to set them before their
    ;;     package is loaded (see 'C-h v VARIABLE' to look up their documentation).
    ;;   - Setting doom variables (which start with 'doom-' or '+').
    ;;
    ;; Here are some additional functions/macros that will help you configure Doom.
    ;;
    ;; - `load!' for loading external *.el files relative to this one
    ;; - `use-package!' for configuring packages
    ;; - `after!' for running code after a package has loaded
    ;; - `add-load-path!' for adding directories to the `load-path', relative to
    ;;   this file. Emacs searches the `load-path' when you load packages with
    ;;   `require' or `use-package'.
    ;; - `map!' for binding new keys
    ;;
    ;; To get information about any of these functions/macros, move the cursor over
    ;; the highlighted symbol at press 'K' (non-evil users must press 'C-c c k').
    ;; This will open documentation for it, including demos of how they are used.
    ;; Alternatively, use `C-h o' to look up a symbol (functions, variables, faces,
    ;; etc).
    ;;
    ;; You can also try 'gd' (or 'C-c c d') to jump to their definition and see how
    ;; they are implemented.
  #+end_src

* auth-source

  #+begin_src elisp
    (after! doom-themes
      (setq auth-sources '("~/.authinfo.gpg" "~/.authinfo" "~/.netrc")))
  #+end_src

  ë””í´íŠ¸ê°’ìœ¼ë¡œ ëŒë¦¼

* emacs-server

  #+begin_src elisp
    (require 'server)
    (server-start)
  #+end_src

  ì™¸ë¶€ì—ì„œ íŒŒì¼ì„ =emacsclientw.exe= íŒŒì¼ì„ ì‚¬ìš©í•´ í˜„ì¬ ì—´ë ¤ìˆëŠ” emacs ì¸ìŠ¤í„´ìŠ¤ì— ì—´ë„ë¡ ì§€ì›í•œë‹¤

* look

  #+begin_src elisp
    (setq frame-title-format "%b")
  #+end_src

  ë²„í¼ íŒŒì¼ ì´ë¦„ì„ íƒ€ì´í‹€ë°”ë¡œ í‘œì‹œí•œë‹¤

  #+begin_src elisp
    (setq display-line-numbers-type nil)
  #+end_src

  ì†ë„ê°€ ëŠë ¤ì ¸ì„œ line number í‘œì‹œë¥¼ ì•ˆ í•¨

  #+begin_src elisp
    (add-hook 'doom-after-init-hook (lambda () (tool-bar-mode 1) (tool-bar-mode 0)))
  #+end_src

  macOS Sonomaì—ì„œ íƒ€ì´í‹€ë°”ê°€ ë„ˆë¬´ í¬ë‹¤. [[https://github.com/doomemacs/doomemacs/issues/7532][Large title bar on macOS Sonoma when using railwaycat/homebrew-emacsmacport and Doom Emacs #7532]] ê¸€ì„ ë³´ê³  workaround ì ìš©

* hangul

  #+begin_src elisp
    ;; input methodë„ ì—®ì—¬ ìˆì–´ì„œ Koreanìœ¼ë¡œ ì„¤ì • í›„ utf-8 ê°œë³„ ì„¸íŒ…ì´ í¸í•œë‹¤
    (set-language-environment "Korean")
    ;; í•œê¸€ í™˜ê²½ì—ì„œëŠ” cp949 ì¸ì½”ë”©ì´ ë””í´íŠ¸ì´ê¸° ë•Œë¬¸ì— utf-8ë¡œ ì„¸íŒ…
    (prefer-coding-system 'utf-8)
    (set-default-coding-systems 'utf-8)
    (set-terminal-coding-system 'utf-8)
    (set-keyboard-coding-system 'utf-8)
    (setq-default buffer-file-coding-system 'utf-8)
    (if (fboundp 'w32-set-system-coding-system)
        (w32-set-system-coding-system 'utf-8))
    ;; ë‚ ì§œ í‘œì‹œë¥¼ ì˜ì–´ë¡œí•œë‹¤. org modeì—ì„œ time stamp ë‚ ì§œì— ì˜í–¥ì„ ì¤€ë‹¤.
    (setq system-time-locale "C")
    (setenv "LANG" "en_US.UTF-8")
    (setenv "LC_ALL" "en_US.UTF-8")
  #+end_src

  #+begin_src elisp
    (when IS-WINDOWS
      (set-clipboard-coding-system 'cp949))
  #+end_src

  ìœˆë„ì—ì„œëŠ” í´ë¦½ë³´ë“œ ì½”ë”© ì‹œìŠ¤í…œì„ ì‹œìŠ¤í…œì— ë§ì¶° =cp949= ë¡œ ì„¸íŒ…í•œë‹¤.

* font

  #+begin_src org :tangle no
    | 12345678 |   |
    |----------+---|
    | ì¼ì´ì‚¼ì‚¬ |   |
  #+end_src

  í•œê¸€ë§Œ í¬ê¸°ë¥¼ í‚¤ì›Œì„œ ë§ì¶œ ìˆ˜ ìˆëŠ”ë°, ì¡°í™”ë¡­ì§€ ëª»í•˜ë‹¤. ì°¸ê³ ì‚¼ì•„ ë³´ê¸°ë§Œ í•˜ê³  ì´ê±¸ ê¼­ ë§ì¶”ë ¤ê³  ë…¸ë ¥í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.

** macOS

   #+begin_src elisp
     (after! doom-themes
       (when IS-MAC
         (set-frame-font "Consolas-14" nil t)
         (set-fontset-font t 'hangul (font-spec :name "D2Coding"))
         (setq-default line-spacing 3)))
   #+end_src

   =doom-font= ì‹¬ë³¼ì— í°íŠ¸ë¥¼ ë°”ì¸ë”©í•˜ë©´ í•œê¸€ í°íŠ¸ë§Œ D2Codingìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ì„¤ì •ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ë¬´ì‹í•˜ê²Œ ì„¸íŒ…í•œë‹¤.

** windows

   #+begin_src elisp
     (after! doom-themes
       (when IS-WINDOWS
         (set-frame-font "Consolas-11" nil t)
         (set-fontset-font t 'hangul (font-spec :name "D2Coding"))
         (setq-default line-spacing 8)))
   #+end_src

* startup

  #+begin_src elisp
    (setq initial-frame-alist '((fullscreen . maximized)))
  #+end_src

  ê·€í•œ emacs. ìµœëŒ€ í¬ê¸°ë¡œ ì‹œì‘í•œë‹¤.

* M-x keybinding

  #+begin_src elisp
    (global-set-key (kbd "C-x C-m") 'execute-extended-command)
  #+end_src

  =M-x= í‚¤ê°€ =alt= í‚¤ë¥¼ ëˆŒëŸ¬ì•¼ í•´ì„œ ë¶ˆí¸í•˜ë‹¤. =C-x C-m= í‚¤ë¡œë„ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ë³€ê²½

* tab -> space

  #+begin_src elisp
    (setq indent-tabs-mode nil)
  #+end_src

* cc-mode

  #+begin_src elisp
    (setq-default c-default-style "bsd"
                  c-basic-offset 4)
  #+end_src

* input

  #+begin_src elisp
    (setq +default-want-RET-continue-comments nil)
  #+end_src

  =RET= í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ, ì½”ë©˜íŠ¸ê°€ ì—°ê²°ë˜ëŠ” ê¸°ëŠ¥ì„ ëˆë‹¤. í•œ ì¤„ ì½”ë©˜íŠ¸ê°€ ë§ì•„ ì˜¤íˆë ¤ ë²ˆê±°ë¡­ë‹¤.

* packages

** doom theme

   #+begin_src elisp
     (setq
      doom-theme 'doom-vibrant
      doom-themes-enable-bold nil
      doom-themes-enable-italic nil)
   #+end_src

   í•œê¸€ì´ ë§ì€ ê²½ìš° bold, italic ì‹œì¸ì„±ì´ ë³„ë¡œë¼ì„œ êº¼ë†“ëŠ”ë‹¤.

   #+begin_src elisp
     (doom-themes-visual-bell-config)
   #+end_src

   modelineì— visual bellì„ í‘œì‹œí•œë‹¤. ì‹œì¸ì„±ì´ ì¢‹ìŒ.

** org

   #+begin_src elisp :lexical t
     (setq org-roam-directory (file-truename "~/org_roam")
           org-directory org-roam-directory
           ;; org-agenda-files (list org-directory) ;; agendaë¥¼ ì‚¬ìš©í•˜ë©´ íŒŒì¼ì´ ë§ì•„ì„œ ë¡œë”© ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¼
           )
   #+end_src

*** org-roam

    titleì´ ë³€ê²½ë  ë•Œ, íŒŒì¼ ì´ë¦„ë„ ê°™ì´ ë°”ê¾¼ë‹¤. [[https://github.com/hlissner/.doom.d/blob/master/config.el][hlissner/.doom.d/blob/master/config.el - github.com]] ì—ì„œ ê°€ì ¸ì˜´

    #+begin_src elisp :lexical t
      (defvar org-roam-old-slug nil)

      (defun org-roam-update-slug-on-save-h ()
        "Set up auto-updating for the current node's filename.

      Calls `org-roam-update-slug-h' on `after-save-hook'."
        (setq-local org-roam-old-slug (ignore-errors (org-roam-node-slug (org-roam-node-at-point))))
        (add-hook 'after-save-hook #'org-roam-update-slug-h
                  'append 'local))

      (defun org-roam-update-slug-h ()
        "Rename the current file if #+title has changed.

        Will ask for confirmation if the new filename already exists."
        (when (org-roam-buffer-p)
          (when-let* ((node (org-roam-node-at-point))
                      (new-slug (org-roam-node-slug node))
                      (old-slug org-roam-old-slug)
                      (old-slug-re (concat "/[^/]*\\(" (regexp-quote old-slug) "\\)[^/]*\\.org$"))
                      (file-name (org-roam-node-file node))
                      ((not (equal old-slug new-slug)))
                      ((string-match-p old-slug-re file-name)))
            (setq org-roam-old-slug new-slug)
            (condition-case _
                (let ((new-file-name
                       (replace-regexp-in-string
                        old-slug-re (regexp-quote new-slug)
                        file-name nil nil 1)))
                  (message "Updating slug in filename (%S -> %S)" old-slug new-slug)
                  (rename-file file-name new-file-name 1)
                  (set-visited-file-name new-file-name t t)
                  (org-roam-db-autosync--setup-file-h))
              (error
               (setq org-roam-old-slug old-slug))))))

      ;; Automatically update the slug in the filename when #+title: has changed.
      (add-hook 'org-roam-find-file-hook #'org-roam-update-slug-on-save-h)
    #+end_src

    org-roam capture template ì„¤ì •

    #+begin_src elisp :lexical t
      (after! org-roam
        (setq org-roam-capture-templates
              `(("n" "note" plain
                 ,(format "#+title: ${title}\n%%[%s/template/note.org]" org-roam-directory)
                 :target (file "note/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("w" "work" plain
                 ,(format "#+title: ${title}\n%%[%s/template/work.org]" org-roam-directory)
                 :target (file "work/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("r" "weekly retrospective" plain
                 ,(format "#+title: ${title}\n%%[%s/template/retrospective-weekly.org]" org-roam-directory)
                 :target (file "retrospective/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("e" "retrospective" plain
                 ,(format "#+title: ${title}\n%%[%s/template/retrospective.org]" org-roam-directory)
                 :target (file "retrospective/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("f" "ref" plain
                 ,(format "#+title: ${title}\n%%[%s/template/ref.org]" org-roam-directory)
                 :target (file "ref/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("c" "contact" plain
                 ,(format "#+title: ${title}\n%%[%s/template/contact.org]" org-roam-directory)
                 :target (file "contact/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("b" "book" plain
                 ,(format "#+title: ${title}\n%%[%s/template/book.org]" org-roam-directory)
                 :target (file "book/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("v" "video" plain
                 ,(format "#+title: ${title}\n%%[%s/template/video.org]" org-roam-directory)
                 :target (file "video/%<%Y%m%d%H%M%S>-${slug}.org")
                 :unnarrowed t)
                ("p" "project" plain
                 ,(format "#+title: ${title}\n%%[%s/template/project.org]" org-roam-directory)
                 :target (file "project/%<%Y%m%d>-${slug}.org")
                 :unnarrowed t))
              org-roam-dailies-capture-templates
              `(("d" "default" plain ""
                 :target (file+head "%<%Y-%m-%d>.org" ,(format "%%[%s/template/journal.org]" org-roam-directory))))))
    #+end_src

    backlinkë¥¼ ì¹´í…Œê³ ë¦¬ë¡œ ë‚˜ëˆ ì„œ ë¶„ë¥˜í•´ ë³´ì—¬ì¤€ë‹¤. [[https://github.com/hlissner/.doom.d/blob/master/config.el][hlissner/.doom.d/blob/master/config.el - github.com]] ì—ì„œ ê°€ì ¸ì˜´

    #+begin_src elisp :lexical t
      (after! org-roam
        ;; List dailies and zettels separately in the backlinks buffer.
        (advice-add #'org-roam-backlinks-section :override #'org-roam-grouped-backlinks-section)

        (defun org-roam-grouped-backlinks-section (node)
          "The backlinks section for NODE."
          (let ((groups (seq-group-by
                         (lambda (backlink)
                           (org-roam-node-doom-type
                            (org-roam-backlink-source-node backlink)))
                         (org-roam-backlinks-get node)))
                (heading (make-marker)))
            (pcase-dolist (`(,title ,always-show ,group) org-roam-group-order)
              (magit-insert-section (gensym "roam")
                (set-marker heading (point))
                (pcase-dolist (`(,key ,sortfn) group)
                  (let ((backlinks (cdr (assoc key groups))))
                    (when (and (or backlinks always-show)
                               (marker-position heading))
                      (goto-char heading)
                      (magit-insert-heading (format "%s:" title))
                      (set-marker heading nil))
                    (dolist (backlink (seq-sort (or sortfn #'org-roam-backlinks-sort) backlinks))
                      (org-roam-node-insert-section-with-tags
                       :source-node (org-roam-backlink-source-node backlink)
                       :point (org-roam-backlink-point backlink)
                       :properties (org-roam-backlink-properties backlink))))))
              (set-marker heading nil)
              (insert ?\n))))

        (cl-defun org-roam-node-insert-section-with-tags (&key source-node point properties)
          (magit-insert-section section (org-roam-node-section)
            (let* ((outline
                    (when-let ((outline (plist-get properties :outline))
                               ;; Don't repeat redundant leaves
                               (outline (if (member (car (last outline))
                                                    (list (org-roam-node-title org-roam-buffer-current-node)
                                                          (org-roam-node-title source-node)))
                                            (butlast outline)
                                          outline)))
                      (mapconcat #'org-link-display-format outline " > ")))
                   (file (org-roam-node-file source-node))
                   (private (and (functionp org-roam-backlinks-filter)
                                 (funcall org-roam-backlinks-filter source-node)))
                   (title (concat (org-roam-node-doom-icon source-node)
                                  org-roam--spacer
                                  (propertize (org-roam-node-title source-node)
                                              'font-lock-face 'org-roam-title)
                                  (when outline
                                    (format " > %s" (propertize outline 'font-lock-face 'org-roam-olp)))))
                   (title (if (not private)
                              title
                            (concat (cl-subseq title 0 4)
                                    (make-string (max 0 (- (length title) 6)) ?*)
                                    (ignore-errors (cl-subseq title -2)))))
                   (tags (org-roam-node-doom-tags source-node))
                   (tags (mapconcat (lambda (tag)
                                      (propertize (concat "#" tag) 'face 'shadow))
                                    tags " "))
                   (tags (or tags ""))
                   (spc (propertize " " 'display
                                    `((space :align-to
                                       (- ,(window-text-width (get-buffer-window org-roam-buffer))
                                          ,(string-width tags)
                                          0.5))))))
              (magit-insert-heading (format "%s%s%s" title spc tags))
              (oset section node source-node)
              (unless (or private (string-suffix-p ".org.gpg" file))
                (magit-insert-section section (org-roam-preview-section)
                  (insert (org-roam-fontify-like-in-org-mode
                           (org-roam-preview-get-contents file point))
                          "\n")
                  (oset section file file)
                  (oset section point point)
                  (insert ?\n))))))

        (defconst org-roam--spacer (propertize " " 'face 'variable-pitch))

        (cl-defmethod org-roam-node-doom-icon ((node org-roam-node))
          "Return the directory relative to `org-roam-directory' as a note's \"type\"."
          (cdr (assoc (org-roam-node-doom-type node)
                      org-roam-group-icons)))

        (defvar org-roam-backlinks-filter nil)

        (defvar org-roam-group-order
          '(("Backlinks" t
             (("note" org-roam-backlinks-sort-by-date)
              ("work" org-roam-backlinks-sort-by-date)))
            ("Relevant items" t
             (("project")
              ("book")
              ("video")
              ("ref")
              ("contact")))
            ("Journal" nil
             (("daily" org-roam-backlinks-sort-by-date)
              ("retrospective" org-roam-backlinks-sort-by-date)))))

        (defun org-roam-backlinks-sort-by-date (a b)
          "Sort backlinks by date (heuristic)."
          (string< (file-name-base (org-roam-node-file (org-roam-backlink-source-node b)))
                   (file-name-base (org-roam-node-file (org-roam-backlink-source-node a)))))

        (defvar org-roam-group-icons
          '(("contact"       . "â˜")
            ("daily"         . "ğŸ“…")
            ("retrospective" . "ğŸ˜")
            ("note"          . "âœ")
            ("project"       . "â­")
            ("book"          . "ğŸ“š")
            ("video"         . "ğŸ¥")
            ("ref"           . "ğŸ”")
            ("work"          . "ğŸ¢"))))
    #+end_src

    backlinks buffer ìƒë‹¨ì— id, type, aliases ì •ë³´ë¥¼ ë³´ì—¬ì¤Œ. [[https://github.com/hlissner/.doom.d/blob/master/config.el][hlissner/.doom.d/blob/master/config.el - github.com]] ì—ì„œ ê°€ì ¸ì˜´.

    #+begin_src elisp :lexical t
      (after! org-roam
        (defun org-roam-add-preamble-a (string)
          (let ((node org-roam-buffer-current-node))
            (insert
             (format "%-10s %s\n" (propertize "ID:" 'face 'bold)
                     (org-roam-node-id node))
             (format "%-10s %s\n" (propertize "Type:" 'face 'bold)
                     (if-let (type (org-roam-node-doom-type node))
                         (format "%s%s%s" (org-roam-node-doom-icon node)
                                 org-roam--spacer
                                 (capitalize type))
                       "-"))
             (format "%-10s %s\n" (propertize "Tags:" 'face 'bold)
                     (if-let (tags (org-roam-node-tags node))
                         (mapconcat (lambda (tag)
                                      (propertize (concat "#" tag) 'face 'org-tag))
                                    tags " ")
                       "-"))
             (format "%-10s %s\n" (propertize "Aliases:" 'face 'bold)
                     (if-let (aliases (org-roam-node-aliases node))
                         (string-join aliases ", ")
                       "-"))
             ?\n)))

        ;; Add ID, Type, Tags, and Aliases to top of backlinks buffer.
        (advice-add #'org-roam-buffer-set-header-line-format :after #'org-roam-add-preamble-a))
    #+end_src

*** org settings

    #+begin_src elisp
      (after! org
        (setq
         ;; quoteì™€ verse blockë„ ë°°ê²½ ìƒ‰ìƒì„ ë°”ê¾¼ë‹¤
         org-fontify-quote-and-verse-blocks t
         ;; heading *ë¥¼ í•œ ê°œë§Œ ë³´ì—¬ì¤€ë‹¤.
         org-hide-leading-stars t
         ;; done í•´ë“œë¼ì¸ í°íŠ¸ ë³€ê²½ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤. ìƒ‰ìƒ ë•Œë¬¸ì— doom theme ë³€ê²½ì‹œ ì œëŒ€ë¡œ ì•ˆ ë³´ì„
         org-fontify-done-headline nil
         ;; 9.5ë¶€í„° default ê°’ì´ ë°”ë€œ
         org-adapt-indentation t
         ;; modelineì— ë³´ì´ëŠ” org clock ì •ë³´ê°€ ë„ˆë¬´ ê¸¸ì–´ì„œ ì¤„ì„
         org-clock-string-limit 30
         ;; íŠ¸ë¦¬ë¥¼ ì ‘ì„ ë•Œ, heading ì‚¬ì´ì— ë¹ˆ ë¼ì¸ì„ ì—†ì•¤ë‹¤
         org-cycle-separator-lines 0
         ;; ìˆœì„œ ì—†ëŠ” ëª©ë¡(unordered list)ì—ì„œ bulletìœ¼ë¡œ ë“¤ì—¬ì“°ê¸°ë¥¼ í•  ë•Œë§ˆë‹¤ +, -ë¥¼ ë²ˆê°ˆì•„ ì‚¬ìš©í•œë‹¤
         org-list-demote-modify-bullet '(("+" . "-") ("-" . "+"))
         ;; #+STARTUP: fold ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ í•œë‹¤. org íŒŒì¼ì„ ì—´ì—ˆì„ ë•Œ, overviewë¥¼ ê°€ì¥ ë¨¼ì € ë³´ê³  ì‹¶ê¸° ë•Œë¬¸
         org-startup-folded t))
    #+end_src

    ui ê´€ë ¨ ì„¤ì •ë“¤

    #+begin_src elisp
      (after! org
        (setq org-startup-indented nil
              org-src-preserve-indentation nil))
    #+end_src

    emacsì—ì„œ org modeì¼ ë•Œ, indentationì„ ì ìš©í•˜ëŠ” ê¸°ëŠ¥ì„ ëˆë‹¤. ì´ ê¸°ëŠ¥ì„ ë„ë©´ emacsê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì—ë””í„°ë¡œ org íŒŒì¼ì„ ë³¼ ë•Œë„ spaceë¡œ indentationì„ ì ìš©í•œ ìƒíƒœì´ë‹¤.

    ì´ ìƒíƒœì—ì„œ =org-src-preserve-indentation= ì‹¬ë³¼ì— nilì´ ì•„ë‹Œ ê°’ì´ ë°”ì¸ë”©ë˜ì—ˆë‹¤ë©´ ì†ŒìŠ¤ ì½”ë“œ ë¸”ëŸ­ì´ heading ë³¸ë¬¸ indentationê³¼ ìƒê´€ì—†ì´ ë¼ì¸ ì•ì— ë¶™ì–´ ìˆë‹¤. ì›ë˜ ì†ŒìŠ¤ ì½”ë“œì˜ indentationì„ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì†ŒìŠ¤ ì½”ë“œ ë¸”ëŸ­ë„ ë˜‘ê°™ì´ indentationì„ ì§€í‚¤ë„ë¡ =nil= ê°’ì„ ë°”ì¸ë”©í•œë‹¤.

    #+begin_src elisp
      (after! org
        (setq org-todo-keywords
              '((sequence
                 "TODO"
                 "STARTED"
                 "|"
                 "DONE"))
              org-todo-keyword-faces
              '(("STARTED" . +org-todo-active))))
    #+end_src

    org ëª¨ë“ˆì—ì„œ ì •ì˜í•œ =+org-todo-active= í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸°ì— org ëª¨ë“ˆì„ ë¡œë“œí•œ í›„ì— ì‹¤í–‰í•´ì•¼ í•œë‹¤.

    #+begin_src elisp
      (after! org
        (setq org-blank-before-new-entry
              '((heading . t) (plain-list-item . nil))))
    #+end_src

    heading ì‚¬ì´ì—ëŠ” ë°˜ë“œì‹œ ë¹ˆ ì¤„ì´ ë“¤ì–´ê°€ê²Œ í•œë‹¤. plan list item ì‚¬ì´ì—ëŠ” ë¬´ì¡°ê±´ ì œê±°í•œë‹¤.

    #+begin_src elisp
      (after! evil-org
        (map! :map evil-org-mode-map
              :ni [C-return]   #'org-insert-heading-respect-content
              :ni [C-S-return] #'org-insert-todo-heading-respect-content))
    #+end_src

    doomì—ì„œ =C-RET= í‚¤ëŠ” ì•„ë˜ì— ì¶”ê°€ =C-S-RET= í‚¤ëŠ” ìœ„ë¡œ ì¶”ê°€ë¡œ ë°”ì¸ë”©ì„ ë³€ê²½í•œë‹¤. ìƒˆë¡œ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•´ì„œ í•´ë‹¹ í•¨ìˆ˜ì— ë°”ì¸ë”©í•˜ëŠ”ë°, í•´ë‹¹ í•¨ìˆ˜ì— =org-blank-before-new-entry= ì‹¬ë³¼ ê°’ì´ ë°˜ì˜ì´ ì•ˆ ë˜ì–´ ìˆì–´ì„œ org modeì˜ ë””í´íŠ¸ í•¨ìˆ˜ë¡œ ë°”ì¸ë”©ì„ í–ˆë‹¤.

    =evil-org= ëª¨ë“œ ë§µë„ ë˜‘ê°™ì´ ìˆ˜ì •í•œë‹¤.

    #+begin_src elisp
      (after! org
        (setq org-M-RET-may-split-line '((default . t))))
    #+end_src

    =M-RET= í‚¤ë¡œ ë¼ì¸ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤. org moduleì—ì„œ nil ê°’ì„ ë°”ì¸ë”©í•œ ê±¸ ë””í´íŠ¸ ê°’ìœ¼ë¡œ ëŒë¦¼.

    #+begin_src elisp
      (defun my-org-clock-in-if-starting ()
        "Clock in when the task is marked STARTED."
        (when (and (string= org-state "STARTED")
                   (not (string= org-last-state org-state)))
          (org-clock-in)))
      (add-hook 'org-after-todo-state-change-hook
                #'my-org-clock-in-if-starting)
      (advice-add 'org-clock-in
                  :after (lambda (&rest _)
                           (org-todo "STARTED")))
      ;; ë‹¤ë¥¸ org-clock ì‹œì‘ìœ¼ë¡œ clock-out ëì„ ë•Œ, todoë„ ë°”ê¿”ì¤€ë‹¤
      (add-hook 'org-clock-out-hook
                (lambda ()
                  (when (and (boundp 'org-state)
                             (string= org-state "STARTED"))
                    (org-todo "DONE"))))
    #+end_src

    =STARTED= í‚¤ì›Œë“œë¡œ ë³€ê²½í•˜ë©´ =org-clock= ì„ ì‹œì‘í•œë‹¤. =TODO= ìƒíƒœì—ì„œ =STARTED= ìƒíƒœë¡œ ë³€ê²½ë˜ë©´ ìë™ìœ¼ë¡œ ì‹œê°„ ê¸°ë¡ì´ ë˜ê²Œ í•˜ë ¤ê³  ì¶”ê°€í•œ ê¸°ëŠ¥. [[http://ohyecloudy.com/emacsian/2017/07/01/org-clocking-time-with-emacs-todo-state/][#orgmode TODO ìƒíƒœì™€ org-clockì€ ê°™ì´ ì›€ì§ì¸ë‹¤ - ohyecloudy.com]] ì°¸ê³ 

    #+begin_src elisp
      (after! org-clock
        (setq org-clock-persist-query-resume nil))
    #+end_src

    active clockì´ ìˆì„ ë•Œ, ë¬¼ì–´ë³´ì§€ ì•Šê³  ì¬ê°œí•œë‹¤. [[http://ohyecloudy.com/emacsian/2017/10/14/org-clock-persistence/][#orgmode emacsë¥¼ êº¼ë„ org-clockì€ êµ´ëŸ¬ê°„ë‹¤ - ohyecloudy.com]] ì°¸ê³ 

    #+begin_src elisp
      (after! org-clock
        (setq org-clock-idle-time 15))
    #+end_src

    15ë¶„ì„ ìë¦¬ë¹„ì›€ ê°ì§€ ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •. [[http://ohyecloudy.com/emacsian/2017/11/04/org-dealing-with-idle-time/][#orgmode idle ì‹œê°„ ë‹¤ë£¨ê¸° - ohyecloudy.com]] ì°¸ê³ 

    #+begin_src elisp
      (after! org
        ;; org-set-effort í•¨ìˆ˜ ì‹¤í–‰ ì‹œ ë‚˜ì˜¤ëŠ” preset ë¦¬ìŠ¤íŠ¸
        (setq org-global-properties
              '(("Effort_ALL" .
                 "1h 2h 3h 4h 8h 16h 24h 32h 40h 0.5h")))

        ;; org-columnsì—ì„œ effortë¥¼ ë³¼ ìˆ˜ ìˆê²Œ ì¶”ê°€
        (setq org-columns-default-format "%50ITEM(Task) %10Effort{:} %10CLOCKSUM")

        ;; org-clock-report ê¸°ë³¸ í”„ë¡œí¼í‹°
        (setq org-clock-clocktable-default-properties
              '(:maxlevel 2 :scope file :narrow 30! :properties ("effort"))))
    #+end_src

    ì¶”ì • ì‹œê°„ì— ê´€ë ¨ëœ ì„¤ì •. ì¶”ì • ì‹œê°„ ì…ë ¥ì‹œ preset ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê³  =org-columns= ëª…ë ¹ê³¼ =org-clock-report= ëª…ë ¹ì—ì„œ ì¶”ì • ì‹œê°„ì„ ë³¼ ìˆ˜ ìˆê²Œ ì„¸íŒ…. [[http://ohyecloudy.com/emacsian/2017/09/09/org-effort-estimates/][#orgmode ì¶”ì •(estimate) ì‘ì—… ì‹œê°„ ê¸°ë¡ - ohyecloudy.com]] ì°¸ê³ 

    #+begin_src elisp
      (after! org
        (setq org-duration-format (quote h:mm)))
    #+end_src

    ê¸°ê°„ í¬ë§·ìœ¼ë¡œ ì‹œê°„:ë¶„ ì‚¬ìš©. 24ì‹œê°€ ë„˜ì–´ê°ˆ ë•Œ, 1dë¡œ í‘œí˜„í•˜ëŠ” ê²Œ ë³´ê¸° ì‹«ì–´ì„œ ì„¸íŒ…. [[http://ohyecloudy.com/emacsian/2017/11/25/org-duration-format/][#orgmode í•˜ë£¨ê°€ ë„˜ì–´ê°€ë„ clock table ê¸°ê°„ í•„ë“œì— ì‹œê°„ê³¼ ë¶„ìœ¼ë¡œë§Œ í‘œì‹œ - ohyecloudy.com]] ì°¸ê³ 

    #+begin_src elisp
      (after! org
        (defun org-columns-with-visual-line-mode ()
          (interactive)
          (org-columns)
          (visual-line-mode)))
    #+end_src

    =org-columns= ëª¨ë“œë¥¼ ì¼¤ ë•Œ, ìë™ ì¤„ë°”ê¿ˆì„ í•´ì£¼ëŠ” =visual-line-mode= ë¥¼ í™œì„±í™”í•œë‹¤. [[http://ohyecloudy.com/emacsian/2020/03/15/org-column-view-with-visual-line-mode/][#orgmode column viewë¥¼ í™œì„±í™”í•˜ë©´ êº¼ì§€ëŠ” ì¤„ ë°”ê¿ˆ(word wrap)ì„ ì¼œëŠ” ë°©ë²• - ohyecloudy.com]] ì°¸ê³ 

    #+begin_src elisp
      (after! org
        (setq org-show-notification-handler (lambda (notification) (message notification))))
    #+end_src

    ì“´ ì‹œê°„ì´ effortë¥¼ ë„˜ì—ˆì„ ë•Œ, ë‚˜ì˜¤ëŠ” desktop notificationì„ ëˆë‹¤. Task 'some tasks' should be finished by now. (1:00)

    #+begin_src elisp
      (defun my/org-open-at-point-other-window ()
        (interactive)
        (let ((org-link-frame-setup (cons (cons 'file 'find-file-other-window) org-link-frame-setup)))
          (org-open-at-point)))

      (after! evil-org
        (map! :map evil-org-mode-map
              :ni "C-c C-RET"      #'my/org-open-at-point-other-window
              :ni "C-c C-<return>" #'my/org-open-at-point-other-window))
    #+end_src

    í˜„ì¬ ìœˆë„ìš°ì—ì„œ íŒŒì¼ì„ ì—¬ëŠ” ê²Œ ê¸°ë³¸ ë™ì‘ì´ë‹¤. ê¸°ë³¸ ë™ì‘ì„ ìœ ì§€í•˜ê³  =C-c C-RET= í‚¤ë¡œëŠ” ë‹¤ë¥¸ ìœˆë„ë¡œ ë§í¬ë¥¼ ì—´ê²Œ í•œë‹¤.

    #+begin_src elisp
      (after! org
        (setq org-enforce-todo-dependencies nil))
    #+end_src

    ìì‹ todoê°€ ì™„ë£Œë˜ì–´ì•¼ë§Œ ë¶€ëª¨ headingì„ doneìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆëŠ” ì œí•œì„ í‘¼ë‹¤. org clock outì„ DONE ìƒíƒœì™€ ì—°ë™í•´ì„œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸.

    #+begin_src elisp
      (after! org
        (setq org-tag-alist '((:startgroup . nil)
                              ("blog" . ?b)
                              (:endgroup . nil))))
    #+end_src

    ë¯¸ë¦¬ ì •ì˜ëœ tagë¥¼ ì„¤ì •

    #+begin_src elisp
      (setq org-element-use-cache nil)
    #+end_src

    #+begin_example
       Please report this to Org mode mailing list (M-x org-submit-bug-report). Disable showing Disable logging
      Warning (org-element-cache): org-element--cache: Org parser error in *org-ai-on-region*::2016. Resetting.
       The error was: (error "Invalid search bound (wrong side of point)")
       Backtrace:
      nil
    #+end_example

    ì´ëŸ° ì—ëŸ¬ê°€ ê°„ê°„íˆ ë°œìƒí•´ì„œ cacheë¥¼ ëˆë‹¤.

*** ox-gfm

    #+begin_src elisp :tangle packages.el
      (package! ox-gfm)
    #+end_src

    #+begin_src elisp
      (eval-after-load "org"
        '(require 'ox-gfm nil t))
    #+end_src

    =C-c C-e= í‚¤ë¡œ =org-export-dispatch= í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ Github Flavored Markdownìœ¼ë¡œ exportí•  ìˆ˜ ìˆë‹¤

    [[https://github.com/larstvei/ox-gfm][larstvei/ox-gfm - github.com]]

*** org babel

**** ob-translate

     #+begin_src elisp :tangle packages.el
       (package! ob-translate)
     #+end_src

     #+begin_src elisp
       (setq ob-translate:default-dest "ko")
     #+end_src

     #+RESULTS:
     : ko

     #+begin_src translate :src en :dest ko :tangle no
       Doom is a configuration framework for GNU Emacs tailored for Emacs bankruptcy veterans who want less framework in their frameworks, a modicum of stability (and reproducibility) from their package manager, and the performance of a hand rolled config (or better). It can be a foundation for your own config or a resource for Emacs enthusiasts to learn more about our favorite operating system.
     #+end_src

     #+RESULTS:
     : Doomì€ í”„ë ˆì„ì›Œí¬ì˜ í”„ë ˆì„ì›Œí¬ê°€ ì ê³  íŒ¨í‚¤ì§€ ê´€ë¦¬ìì˜ ì•½ê°„ì˜ ì•ˆì •ì„±(ë° ì¬í˜„ì„±)ê³¼ ìˆ˜ë™ êµ¬ì„±(ë˜ëŠ” ê·¸ ì´ìƒ)ì˜ ì„±ëŠ¥ì„ ì›í•˜ëŠ” Emacs íŒŒì‚° ë² í…Œë‘ì„ ìœ„í•´ ë§ì¶¤í™”ëœ GNU Emacsìš© êµ¬ì„± í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. Emacs ì• í˜¸ê°€ê°€ ì„ í˜¸í•˜ëŠ” ìš´ì˜ ì²´ì œì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³¼ ìˆ˜ ìˆëŠ” ìì²´ êµ¬ì„± ë˜ëŠ” ë¦¬ì†ŒìŠ¤ì˜ ê¸°ì´ˆê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

     [[https://github.com/krisajenkins/ob-translate][krisajenkins/ob-translate - github.com]]

     #+begin_example
       google-translate--search-tkk: Search failed: ",tkk:'"
     #+end_example

     ì´ëŸ° ì—ëŸ¬ ë©”ì‹œì§€ê°€ ëœ¬ë‹¤.

     #+begin_src elisp
       (defun google-translate--search-tkk ()
         "Search TKK."
         (list 430675 2721866130))
     #+end_src

     [[https://github.com/atykhonov/google-translate/issues/137][atykhonov/google-translate/issues/137 - github.com]] ê¸€ì„ ì°¸ê³ í•´ì„œ =google-translate--search-tkk= í•¨ìˆ˜ë¥¼ ì¬ì •ì˜í•¨

**** ob-http

     #+begin_src elisp :tangle packages.el
       (package! ob-http)
     #+end_src

     #+begin_src elisp
       (org-babel-do-load-languages 'org-babel-load-languages
                                    (append org-babel-load-languages
                                            '((http . t))))
     #+end_src

     [[https://github.com/zweifisch/ob-http][zweifisch/ob-http - github.com]]

     src ë¸”ëŸ­ìœ¼ë¡œ http ì‘ë‹µì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

     #+begin_src http :pretty :tangle no
       GET https://api.github.com/repos/ohyecloudy/dotfiles/languages
     #+end_src

     #+RESULTS:
     #+begin_example
     {
       "Emacs Lisp": 126668,
       "Shell": 90476,
       "YASnippet": 9424,
       "Batchfile": 3991,
       "Vim script": 2181,
       "Python": 945,
       "JavaScript": 719,
       "AutoHotkey": 405
     }
     #+end_example

*** org-cv

    #+begin_src elisp :tangle packages.el
      (when IS-MAC
        (package! ox-moderncv
          :recipe (:host github :repo "ohyecloudy/org-cv")))
    #+end_src

    #+begin_src elisp
      (when IS-MAC
        (require 'ox-moderncv))
    #+end_src

    org ë¬¸ì„œë¥¼ moderncvë¡œ exportí•˜ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤.

*** org copy link

    #+begin_src elisp
      (defun my/org-copy-link-at-point ()
        (interactive)
        (let ((link (org-element-property :raw-link (org-element-context))))
          (when link
            (kill-new link))))
    #+end_src

    ì»¤ì„œê°€ ìœ„ì¹˜í•œ org elementì— link í”„ë¡œí¼í‹°ê°€ ìˆìœ¼ë©´ í´ë¦½ë³´ë“œë¡œ ë³µì‚¬í•˜ëŠ” í•¨ìˆ˜.

    #+begin_src elisp
      (after! org
        (map! :map org-mode-map
              :localleader
              (:prefix ("l" . "links")
                       "y" #'my/org-copy-link-at-point)))
    #+end_src

    org modeì—ì„œ =SPC m l y= í‚¤ì— ë°”ì¸ë”©.

*** org export

    #+begin_src elisp
      (after! org
        (setq org-export-with-sub-superscripts nil))
    #+end_src

    [[http://ohyecloudy.com/emacsian/2019/01/12/org-export-with-sub-superscripts/][#orgmode ìµìŠ¤í¬íŠ¸ í•  ë•Œ, underscoreê°€ subscriptsë¡œ ë°”ë€ŒëŠ” ê±¸ ì–µì œ - ohyecloudy.com]]

** doom-modeline

   #+begin_src elisp
     (after! doom-modeline
       (setq
        ;; í˜„ì¬ ìœ„ì¹˜ë¥¼ ì¬ê¹í•˜ê²Œ ë³´ì—¬ì¤€ë‹¤
        doom-modeline-hud t
        ;; ê²½ë¡œê°€ ì•„ë‹ˆë¼ íŒŒì¼ ì´ë¦„ë§Œ ëª¨ë“œë¼ì¸ì— ë³´ì—¬ì¤€ë‹¤. 'autoëŠ” ê²½ë¡œë¥¼ ì¶œë ¥í•œë‹¤
        ;; trampë¡œ ì›ê²© íŒŒì¼ í¸ì§‘ì‹œ ëŠë ¤ì§€ëŠ” ê²½í—˜ì„ ì™„í™”í•´ì¤€ë‹¤ê³  í•œë‹¤
        doom-modeline-buffer-file-name-style 'file-name
        ;; evil mode indicatorë¥¼ ëª¨ë“œë¼ì¸ê¹Œì§€ ë³´ì—¬ì¤„ í•„ìš” ì—†ë‹¤. ì»¤ì„œ ëª¨ì–‘ì´ë‘ ì¤‘ë³µì´ë‹¤. ì•„ê»´ì“°ì.
        doom-modeline-modal nil))
   #+end_src

   doom-modeline ì¶”ê°€ ì„¤ì •

** magit

   #+begin_src elisp
     (after! magit
       (setq magit-save-repository-buffers 'dontask))
   #+end_src

   magit statusë¥¼ ì‹¤í–‰í•˜ë©´ ë¬»ì§€ ì•Šê³  ìˆ˜ì •í•œ ë²„í¼ë¥¼ ì €ì¥í•œë‹¤

** projectile

   #+begin_src elisp
     (after! projectile
       (setq projectile-indexing-method 'hybrid))
   #+end_src

   =.git= ë””ë ‰í„°ë¦¬ë¥¼ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ì¸ë±ì‹±

** company

   #+begin_src elisp
     (after! company
       (setq company-show-quick-access t))
   #+end_src

   =M-1=, =M-0= ê¹Œì§€ ìˆ«ìë¡œ ë¹ ë¥´ê²Œ ì‚½ì…í•  ìˆ˜ ìˆëŠ”ë°, ê·¸ ìˆ«ìë¥¼ ì˜†ì— ì¶œë ¥í•˜ê²Œ í•œë‹¤.

** request

   #+begin_src elisp :tangle packages.el
     (package! request)
   #+end_src

   httpë¥¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” request íŒ¨í‚¤ì§€
   [[https://github.com/tkf/emacs-request][tkf/emacs-request - github.com]]

** mermaid

   #+begin_src elisp :tangle packages.el
     (package! mermaid-mode)
     (package! ob-mermaid)
   #+end_src

   mermaid êµ¬ë¬¸ ê°•ì¡°ì™€ ë“¤ì—¬ì“°ê¸° ë“±ì„ ì§€ì›í•˜ëŠ” [[https://github.com/abrochard/mermaid-mode][abrochard/mermaid-mode]]ë¥¼ ì„¤ì¹˜í•œë‹¤. ê·¸ë¦¬ê³  org modeì—ì„œ mermaid ì†ŒìŠ¤ ì½”ë“œ ë¸”ëŸ­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” [[https://github.com/arnm/ob-mermaid][arnm/ob-mermaid]]ë„ ì¶”ê°€ë¡œ ì„¤ì¹˜í•œë‹¤.

   #+begin_src elisp
     (after! ob-mermaid
       (org-babel-do-load-languages 'org-babel-load-languages
                                    (append org-babel-load-languages
                                            '((mermaid . t)))))
   #+end_src

   org-babel ì–¸ì–´ë¡œ =mermaid= ë¥¼ ì¶”ê°€í•´ì„œ ì†ŒìŠ¤ ì½”ë“œ ë¸”ëŸ­ ì»´íŒŒì¼ì„ í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

   #+begin_src elisp
     (when IS-WINDOWS
       (setq mermaid-mmdc-location "~/bin.local/mermaid-cli/node_modules/.bin/mmdc.cmd"))
   #+end_src

   #+begin_src elisp
     (when IS-WINDOWS
       (setq ob-mermaid-cli-path "~/bin.local/mermaid-cli/node_modules/.bin/mmdc.cmd"))
   #+end_src

   windowsì—ì„œëŠ” ì§ì ‘ ì„¤ì¹˜í•˜ê³  ê²½ë¡œë¥¼ ì§€ì •í•œë‹¤.

** evil

   #+begin_src elisp
     (setq! evil-want-C-w-delete nil)
   #+end_src

   =insert mode= ì—ì„œ =C-w= í‚¤ë¥¼ ì…ë ¥í•  ë•Œ, back wordë¥¼ ì§€ìš°ëŠ” ê¸°ëŠ¥ì„ ëˆë‹¤. ì°½ ì „í™˜ í‚¤ë‘ í—·ê°ˆë ¤ì„œ ì‹¤ìˆ˜ë¡œ ë‹¨ì–´ë¥¼ ì§€ìš°ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.

   #+begin_src elisp
     (after! evil
       (evil-select-search-module 'evil-search-module 'isearch))
   #+end_src

   folded ì»¨í…ì¸  ê²€ìƒ‰ì´ ì•ˆ ë˜ì„œ workaround ì ìš©. [[https://github.com/doomemacs/doomemacs/issues/6478][doomemacs/doomemacs/issues/6478 - github.com]] ì°¸ê³ 

   #+begin_src elisp
     (after! evil
       (setq evil-complete-all-buffers nil))
   #+end_src

   í˜„ì¬ ë²„í¼ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì™„ì„±(completion) í›„ë³´ë¥¼ ì¶”ë¦°ë‹¤. ê¸°ë³¸ê°’ì€ ì—´ë ¤ ìˆëŠ” ì „ì²´ ë²„í¼ ëŒ€ìƒ. =C-n=, =C-p= í‚¤ ë°”ì¸ë”©ì—ì„œ ì‚¬ìš©í•œë‹¤.

   #+begin_src elisp
     (after! evil
       (add-hook 'evil-insert-state-exit-hook
                 (lambda ()
                   (setq evil-input-method nil))))
   #+end_src

   í¸ì§‘ ëª¨ë“œë¥¼ ë‚˜ê°ˆ ë•Œ, ì…ë ¥ê¸°(input method)ë¥¼ ì´ˆê¸°í™” ì‹œí‚¨ë‹¤. í¸ì§‘ ëª¨ë“œë¡œ ë“¤ì–´ê°ˆ ë•Œ, ë¬´ì¡°ê±´ ì˜ë¬¸ì„ ê¸°ë³¸ìœ¼ë¡œ í•´ì„œ ì´ì „ í¸ì§‘ ëª¨ë“œì—ì„œ í•œê¸€ì„ ì…ë ¥í•˜ë˜ ì¤‘ì´ì—ˆëŠ”ì§€ ì˜ë¬¸ì„ ì…ë ¥í•˜ë˜ ì¤‘ì´ì—ˆëŠ”ì§€ ìƒê°í•  í•„ìš”ê°€ ì—†ê²Œ í•œë‹¤. í¸ì§‘ ëª¨ë“œë¡œ ë“¤ì–´ê°ˆ ë•Œ, ì´ì „ ìƒíƒœë¥¼ ê¸°ì–µ ëª»í•˜ê±°ë‚˜ ëª¨ë“œ ë¼ì¸(mode line)ì— í‘œì‹œëœ ì…ë ¥ê¸° ìƒíƒœë¥¼ ëª» ë´ì„œ ì˜ëª» ì…ë ¥í•˜ëŠ” ì‹¤ìˆ˜ë¥¼ ì¤„ì´ë ¤ê³  í†µì¼í•œë‹¤.

   #+begin_src elisp
     (setq +evil-want-o/O-to-continue-comments nil)
   #+end_src

   ì£¼ì„ì„ ì—°ì†í•´ì„œ ì“°ëŠ” ê²½ìš°ê°€ ì ì–´ì„œ ì˜¤íˆë ¤ ë¶ˆí¸í•˜ë‹¤

   #+begin_src elisp :lexical t
     (setq evil-split-window-below t
           evil-vsplit-window-right t)
   #+end_src

   splitting ì´í›„ í¬ì»¤ìŠ¤ë¥¼ ì˜®ê¸´ë‹¤

** lsp

   #+begin_src elisp
     (after! lsp-mode
       (setq lsp-pwsh-code-formatting-preset "Allman"))
   #+end_src

   [[https://en.wikipedia.org/wiki/Indentation_style#Allman_style][Allman]] ìŠ¤íƒ€ì¼ë¡œ í¬ë§·íŒ…í•œë‹¤.

   #+begin_src elisp
     (after! lsp-mode
       (setq lsp-pwsh-code-formatting-pipeline-indentation-style "IncreaseIndentationForFirstPipeline"))
   #+end_src

   íŒŒì´í”„ë¼ì¸ ë“¤ì—¬ì“°ê¸°ë¥¼ í•´ì„œ ë” ë³´ê¸° ì¢‹ê²Œ í•œë‹¤.

   ì°¸ê³ : [[https://emacs-lsp.github.io/lsp-mode/page/lsp-pwsh/][Powershell - LSP Mode - LSP support for Emacs - emacs-lsp.github.io]]

   #+begin_src elisp
     (when IS-WINDOWS
       (after! lsp-mode
         (setq lsp-csharp-omnisharp-roslyn-download-url
               (concat "https://github.com/omnisharp/omnisharp-roslyn/releases/latest/download/"
                       "omnisharp-win-x64-net6.0.zip"))))
   #+end_src

   windowsì—ì„œëŠ” =omnisharp-win-x64.zip= íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ê³  ìˆì–´ì„œ ì§ì ‘ ì§€ì •

   #+begin_src elisp
     (after! lsp-mode
       (setq lsp-elixir-ls-version "v0.19.0")
       (setq lsp-elixir-ls-download-url
             (format "https://github.com/elixir-lsp/elixir-ls/releases/download/%s/elixir-ls-%s.zip"
                     lsp-elixir-ls-version
                     lsp-elixir-ls-version))
       )
   #+end_src

   default [[https://github.com/elixir-lsp/elixir-ls][elixir-ls]] ë²„ì „ì´ ë‚®ì•„ì„œ ìµœì‹  ë²„ì „ì„ ì§€ì •

** consult

   #+begin_src elisp
     (when IS-WINDOWS
       (after! consult
         (setq consult-locate-args "es")
         )
       )
   #+end_src

   [[https://github.com/git-for-windows/build-extra][Git for Windows SDK]]ë¡œ ì„¤ì¹˜í•œ =locate= í”„ë¡œê·¸ë¨ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. windowsì—ì„œ ë” ìµœì í™”ëœ [[https://www.voidtools.com/ko-kr/][Everything]]ì„ íŒŒì¼ ì°¾ê¸°ì— ì‚¬ìš©í•œë‹¤.

** vertico

   #+begin_src elisp :exports both
     (after! vertico
       (defun my/vertico-setup-then-remove-post-command-hook (&rest args)
         "vertico--setup í•¨ìˆ˜ì—ì„œ ì¶”ê°€í•˜ëŠ” post-command-hookì„ ì œê±°í•œë‹¤.

     ì…ë ¥ ì¡°í•©ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” í•œê¸€ ì…ë ¥ì‹œ post-command-hookì´ ì…ë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤.
     í•œê¸€ ì¦ë¶„ ì™„ì„±ì„ ìœ„í•´ timerë¡œ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ì œê±°í•œë‹¤"
         (remove-hook 'post-command-hook #'vertico--exhibit 'local))

       (defun my/vertico-exhibit-with-timer (&rest args)
         "íƒ€ì´ë¨¸ë¥¼ ë„£ì–´ íƒ€ì´ë¨¸ ì´ë²¤íŠ¸ ë°œìƒì‹œ vertico--exhibitì„ í˜¸ì¶œí•´ ë¯¸ë‹ˆë²„í¼ ì™„ì„±(completion) í›„ë³´ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°±ì‹ í•œë‹¤

     post-command-hookì´ ë°œë™í•˜ì§€ ì•ŠëŠ” í•œê¸€ ì…ë ¥ì‹œì—ë„ í•œê¸€ ì¦ë¶„ ì™„ì„±ì„ í•˜ê¸° ìœ„í•´ timerë¥¼ ì‚¬ìš©í•œë‹¤"
         (let (timer)
           (unwind-protect
               (progn
                 (setq timer (run-with-idle-timer
                              0.01
                              'repeat
                              (lambda ()
                                (with-selected-window (or (active-minibuffer-window)
                                                          (minibuffer-window))
                                  (vertico--exhibit))
                                )))
                 (apply args))
             (when timer (cancel-timer timer)))))

       (advice-add #'vertico--setup :after #'my/vertico-setup-then-remove-post-command-hook)
       (advice-add #'vertico--advice :around #'my/vertico-exhibit-with-timer))
   #+end_src

   verticoëŠ” =post-command-hook= ì„ ì‚¬ìš©í•´ì„œ ì¦ë¶„ ì™„ì„±(incremental completion)ì„ ìˆ˜í–‰í•œë‹¤. ì˜ë¬¸ ì…ë ¥ì‹œ =post-command-hook= ì´ ì˜ ë°œë™í•˜ì§€ë§Œ ì¡°í•©í•´ì„œ ì…ë ¥í•˜ëŠ” í•œê¸€ì€ =post-command-hook= ì´ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤. helm ë™ì‘ ë°©ë²•ì„ ì°¸ê³ í•´ timerë¥¼ ëŒë ¤ì„œ í•´ê²°í–ˆë‹¤.

** atomic-chrome

    #+begin_src elisp :tangle packages.el
      (when IS-MAC
        (package! atomic-chrome))
    #+end_src

    #+begin_src elisp :exports both
      (when IS-MAC
        (atomic-chrome-start-server))
    #+end_src

    ì›¹ë¸Œë¼ìš°ì € textareaë¥¼ emacsë¡œ í¸ì§‘í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. [[https://chrome.google.com/webstore/detail/ghosttext/godiecgffnchndlihlpaajjcplehddca/related][GhostText í¬ë¡¬ í™•ì¥]]ì„ ì„¤ì¹˜í•´ì•¼ í•œë‹¤. í¬ë¡¬ë¿ë§Œ ì•„ë‹ˆë¼ ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ ì›¹ë¸Œë¼ìš°ì €ë¥¼ ë‹¤ ì§€ì›í•œë‹¤. ì›¹ë¸Œë¼ìš°ì € í™•ì¥ê³¼ í†µì‹ í•  [[https://github.com/alpha22jp/atomic-chrome][atomic-chrome]] íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤.

    GhostText í™ˆí˜ì´ì§€: [[https://ghosttext.fregante.com/][GhostText â€” Use your text editor in the browser - ghosttext.fregante.com]]

** org-ai

   #+begin_src elisp :tangle packages.el
     (when IS-MAC
       (package! org-ai))
   #+end_src

   #+begin_src elisp
     (when IS-MAC
       (use-package! org-ai
         :commands (org-ai-mode
                    org-ai-global-mode)
         :init
         (add-hook 'org-mode-hook #'org-ai-mode) ; enable org-ai in org-mode
         (org-ai-global-mode) ; installs global keybindings on C-c M-a
         :config
         (setq org-ai-default-chat-model "gpt-3.5-turbo")
         (org-ai-install-yasnippets)) ; if you are using yasnippet and want `ai` snippets
       )
   #+end_src

   OpenAI API keyëŠ” =~/.authinfo.gpg= íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ê¸°ë¡í•œë‹¤

   #+begin_example
     machine api.openai.com login org-ai password <your-api-key>
   #+end_example

   [[https://github.com/rksm/org-ai][rksm/org-ai - github.com]]

** ox-jekyll-lite

   #+begin_src elisp :tangle packages.el
     (when IS-MAC
       (package! example
         :recipe (:host github :repo "ohyecloudy/ox-jekyll-lite"))
       )
   #+end_src

   #+begin_src elisp
     (when IS-MAC
       (require 'ox-jekyll-lite)
       (setq org-jekyll-lite-include-yaml-front-matter nil))

   #+end_src

   org íŒŒì¼ì„ jekyll markdownìœ¼ë¡œ exportí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

   ì°¸ê³ : [[https://www.pwills.com/post/2019/09/24/blogging-in-org.html][Blogging in Org Mode - pwills.com - pwills.com]]

** copilot

   [[https://github.com/copilot-emacs/copilot.el][copilot-emacs/copilot.el - github.com]]

   #+begin_src elisp :tangle packages.el
     (when IS-MAC
       (package! copilot :recipe (:host github :repo "copilot-emacs/copilot.el" :files ("*.el" "dist"))))
   #+end_src

   ë‹¨ì¶•í‚¤ë¥¼ ì„¤ì •í•˜ê³  copilotì—ì„œ indent ì˜ ì¶”ë¡ í•´ì„œ ì„¤ì •ì´ ì•ˆ ë˜ì–´ ìˆì§€ë§Œ ê·¸ëƒ¥ warningì„ ë¬´ì‹œí•¨

   #+begin_src elisp
     ;; accept completion from copilot and fallback to company
     (when IS-MAC
       (use-package! copilot
         :hook (prog-mode . copilot-mode)
         :bind (:map copilot-completion-map
                     ("<tab>" . 'copilot-accept-completion)
                     ("TAB" . 'copilot-accept-completion)
                     ("C-TAB" . 'copilot-accept-completion-by-word)
                     ("C-<tab>" . 'copilot-accept-completion-by-word))
         :config
         (setq copilot-indent-offset-warning-disable t)))
   #+end_src

   copilotì— elixir ê°€ ì—†ì–´ì„œ ì¶”ê°€

   #+begin_src elisp
     (when IS-MAC
       (after! copilot
         (add-to-list 'copilot-major-mode-alist '("elixir" . "elixir"))))
   #+end_src

** eldoc

   #+begin_src elisp :lexical t
     (after! eldoc
       ;; =M-x eldoc-doc-buffer= í•¨ìˆ˜ í˜¸ì¶œë¡œ í‘œì‹œí•˜ëŠ” buffer í¬ê¸° ì¡°ì ˆ
       (set-popup-rule! "^\\*eldoc for" :size 0.2 :vslot -1)

       ;; eldocì„ ì—¬ëŸ¬ ë°±ì—”ë“œì—ì„œ ìˆ˜ì§‘í•´ì„œ ë³´ì—¬ì¤„ ìˆ˜ ìˆê²Œ í•œë‹¤
       (setq eldoc-documentation-strategy 'eldoc-documentation-compose-eagerly
             ;; echo areaì— ìµœëŒ€ 4ì¤„ê¹Œì§€ ë³´ì—¬ì£¼ê²Œ í•¨
             eldoc-echo-area-use-multiline-p 4))
   #+end_src

** flycheck

   flycheck ë©”ì‹œì§€ë¥¼ echo areaë§Œ ë³´ì—¬ì£¼ë ¤ê³  popup tipìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” [[https://github.com/flycheck/flycheck-popup-tip][flycheck-popup-tip]] íŒ¨í‚¤ì§€ ë¹„í™œì„±í™”

   #+begin_src elisp :tangle packages.el
     (package! flycheck-popup-tip :disable t)
   #+end_src

   flycheck errorë¥¼ eldoc íŒ¨í‚¤ì§€ë¡œ ì¶œë ¥í•œë‹¤. '[[https://www.masteringemacs.org/article/seamlessly-merge-multiple-documentation-sources-eldoc?utm_source=pocket_saves][Seamlessly Merge Multiple Documentation Sources with Eldoc - Mastering Emacs ...]]' ê¸€ì—ì„œ ì½”ë“œë¥¼ ê°€ì ¸ì™€ Doom Emacsì— ë§ê²Œ ë³€ê²½í•¨

   #+begin_src elisp :lexical t
     (after! flycheck
       (defun my/flycheck-eldoc (callback &rest _ignored)
         "Print flycheck messages at point by calling CALLBACK."
         (when-let ((flycheck-errors (and flycheck-mode (flycheck-overlay-errors-at (point)))))
           (mapc
            (lambda (err)
              (funcall callback
                       (format "%s: %s"
                               (let ((level (flycheck-error-level err)))
                                 (pcase level
                                   ('info (propertize "I" 'face 'flycheck-error-list-info))
                                   ('error (propertize "E" 'face 'flycheck-error-list-error))
                                   ('warning (propertize "W" 'face 'flycheck-error-list-warning))
                                   (_ level)))
                               (flycheck-error-message err))
                       :thing (or (flycheck-error-id err)
                                  (flycheck-error-group err))
                       :face 'font-lock-doc-face))
            flycheck-errors)))

       (defun my/flycheck-prefer-eldoc ()
         (add-hook 'eldoc-documentation-functions #'my/flycheck-eldoc nil t)
         (setq flycheck-display-errors-function nil)
         (setq flycheck-help-echo-function nil))

       (add-hook! 'flycheck-mode-hook #'my/flycheck-prefer-eldoc))
   #+end_src

** which-key

   #+begin_src elisp :lexical t
     (after! which-key
       (setq which-key-idle-delay 0.5))
   #+end_src

   ë‚˜ëŠ” ì¢€ ë” ë¹¨ë¦¬ ë„ì›€ì´ í•„ìš”í•¨

* syntax

  #+begin_src elisp
    (add-hook! 'emacs-lisp-mode-hook
               #'(lambda ()
                   (modify-syntax-entry ?_ "w")
                   (modify-syntax-entry ?- "w")))
    (add-hook! 'c-mode-common-hook
               #'(lambda () (modify-syntax-entry ?_ "w")))
    (add-hook! 'elixir-mode-hook
               #'(lambda ()
                   (modify-syntax-entry ?_ "w")
                   (modify-syntax-entry ?: ".")
                   (modify-syntax-entry ?% ".")))
  #+end_src

  =kebab-case=, =snake_case= ì²˜ë¦¬ ì¹œí™”ì ìœ¼ë¡œ ë¬¸ìë¥¼ wordë¡œ ì¶”ê°€í•œë‹¤. [[http://ohyecloudy.com/emacsian/2017/12/16/evil-syntax-table-kebab-case-snake-case-friendly/][#evilmode kebab-case, snake_case ì²˜ë¦¬ ì¹œí™”ì ìœ¼ë¡œ - '_' ë¬¸ìë‚˜ '-' ë¬¸ìë¥¼ word ì·¨ê¸‰]] ì°¸ê³ 

* my packages

  #+begin_src elisp
    (add-load-path! (expand-file-name "lisp/" doom-user-dir))
  #+end_src

  =c44bc81a05= commit idì—ì„œ =9d4d5b756a= commit idë¡œ ì—…ë°ì´íŠ¸í•œ ì´í›„ë¡œ =(add-load-path! "lisp")= ê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. =load-path= ë³€ìˆ˜ë¥¼ í™•ì¸í•´ë³¸ ê²°ê³¼ =.doom.d= ë””ë ‰í„°ë¦¬ê°€ ì•„ë‹ˆë¼ =.emacs.d= ë””ë ‰í„°ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ =lisp= ë””ë ‰í„°ë¦¬ê°€ =load-path= ë¡œ ì¶”ê°€ëœ ê±¸ í™•ì¸í–ˆë‹¤. ê·¸ë˜ì„œ =doom-user-dir= ì„ ê¸°ì¤€ìœ¼ë¡œ í•œ load pathë¥¼ ê³„ì‚°í•´ ëª…ì‹œì ìœ¼ë¡œ í• ë‹¹í•œë‹¤.

** my-build-link-section

   #+begin_src elisp
     (require 'my-build-link-section)
   #+end_src

   =M-x my/build-link-section= í•¨ìˆ˜ë¡œ ë³¸ë¬¸ì— ìˆëŠ” ë§í¬ë¥¼ ìˆ˜ì§‘í•´ì„œ ë§í¬ org headingì„ ë§Œë“¤ì–´ì¤€ë‹¤.

   ì°¸ê³ : [[http://ohyecloudy.com/emacsian/2022/05/28/create-link-section-by-scraping-links-from-current-org-docs/][org ë¬¸ì„œì—ì„œ ë§í¬ë¥¼ ê¸ì–´ì„œ ë§í¬ ì„¹ì…˜ì„ ë§Œë“¤ê¸° - ohyecloudy.com]]

** ox-confluence

   #+begin_src elisp
     (require 'my-ox-confluence)
   #+end_src

   [[https://github.com/aspiers/orgmode/blob/master/contrib/lisp/ox-confluence.el][aspiers/orgmode/blob/master/contrib/lisp/ox-confluence.el - github.com]] íŒŒì¼ì„ ê°€ì ¸ì™€ì„œ ì¡°ê¸ˆ ê³ ì¹œ íŒ¨í‚¤ì§€. confluence ë§ˆí¬ì—…ìœ¼ë¡œ ìµìŠ¤í¬íŠ¸ë¥¼ ì§€ì›í•œë‹¤.

** ox-taskjuggler

   #+begin_src elisp
     (require 'ox-taskjuggler)
     (progn
       (load-file (expand-file-name "lisp/taskjuggler-setting.el" doom-user-dir))
       (setq org-taskjuggler-reports-directory "~/taskjuggler")
       ;; ë„‰ë„‰í•˜ê²Œ ì¡ì•„ë†”ì„œ Error: Some tasks did not fit into the project time frame. ì—ëŸ¬ê°€ ì•ˆ ëœ¨ê²Œ í•œë‹¤
       (setq org-taskjuggler-default-project-duration 999))
   #+end_src

   [[https://taskjuggler.org/][taskjuggler]] ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ exporterë¡œ ì‚¬ìš©í•˜ëŠ” [[https://orgmode.org/worg/exporters/taskjuggler/ox-taskjuggler.html][ox-taskjuggler]] ì„¸íŒ…

** gitlab

   #+begin_src elisp
     (require 'my-gitlab)
     (require 'legacy-gitlab)
   #+end_src

   gitlabì„ ì‚¬ìš©í•˜ë©´ì„œ ë§Œë“¤ì–´ë†“ì€ í•¨ìˆ˜

** ob-csharp

   #+begin_src elisp
     (require 'ob-cs)

     (org-babel-do-load-languages 'org-babel-load-languages
                                  (append org-babel-load-languages
                                          '((cs . t))))

     (after! org
       (add-to-list 'org-src-lang-modes '("cs" . "csharp")))
   #+end_src

   [[https://github.com/thomas-villagers/ob-csharp][ob-csharp]]ì— [[https://github.com/dotnet-script/dotnet-script ][dotnet-script]]ë¥¼ ì‚¬ìš©í•œ [[https://github.com/thomas-villagers/ob-csharp/pull/2][PR]]ì„ ì ìš©í–ˆë‹¤.

   doom emacsì—ì„œ org-contribë¥¼ ë¡œë“œí•  ë•Œ, ob-csharpì„ ë¡œë“œí•œë‹¤. ì´ê±¸ ê°ˆì•„ì¹˜ëŠ” ë°©ë²•ì„ ëª» ì°¾ì•„ì„œ ì´ë¦„ì„ ë°”ê¿”ì„œ ì ìš©í•œë‹¤.

   #+begin_src org :tangle no
     ,#+begin_src cs
       Console.WriteLine("hello org babel")
     ,#+end_src
   #+end_src

   source code ì´ë¦„ì€ =cs= ë¥¼ ì‚¬ìš©í•œë‹¤.

** my-search

   #+begin_src elisp
     (require 'my-search)
   #+end_src

   emacsì—ì„œ í¸í•˜ê²Œ ì›¹í˜ì´ì§€ë¥¼ ì—´ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ëª¨ì•„ë‘” íŒ¨í‚¤ì§€. [[http://ohyecloudy.com/emacsian/2021/06/20/interactive-function-that-opens-in-a-web-browser/][ì›í•˜ëŠ” URLì„ ì¡°í•©í•´ ì›¹ë¸Œë¼ìš°ì €ë¡œ ì—¬ëŠ” ëŒ€í™”í˜• í•¨ìˆ˜ ë§Œë“¤ê¸° - elixir ë¬¸ì„œ í¸í•˜ê²Œ ê²€ìƒ‰ - ohyecloudy.com]] ì°¸ê³ .

   #+begin_src elisp
     (map! :leader
           (:prefix-map ("S" . "custom search")
            :desc "google"           "g"     #'my/search-google
            :desc "naver"            "n"     #'my/search-naver
            :desc "dict"             "d"     #'my/search-dict
            :desc "dotnet"           "D"     #'my/search-dotnet
            :desc "onelook"          "e"     #'my/search-onelook
            :desc "thesaurus"        "t"     #'my/search-thesaurus
            :desc "elixir"           "x"     #'my/search-elixir
            :desc "flutter"          "f"     #'my/search-flutter
            :desc "my blogs"         "b"     #'my/search-blogs))
   #+end_src

   ê²€ìƒ‰ í•¨ìˆ˜ë¥¼ í‚¤ì— ë°”ì¸ë”©í•¨

** my-source-mine

   #+begin_src elisp
     (require 'my-source-mine)
   #+end_src

   ì–¸ì–´ë³„ ì°¸ê³ í• ë§Œí•œ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì €ì¥í•œ ë””ë ‰í„°ë¦¬ì—ì„œ ë°”ë¡œ ê²€ìƒ‰í•˜ëŠ” íŒ¨í‚¤ì§€. ì†ŒìŠ¤ ê´‘ì‚°(source mine)ì´ë¼ê³  ë¶€ë¥´ì. doom emacsì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ êµ¬í˜„í–ˆë‹¤.

   #+begin_src elisp
     (map! :leader
           (:prefix-map ("S" . "custom search")
                        (:prefix-map ("m" . "source mine")
                         :desc "elixir" "x" #'my/source-mine-elixir)))
   #+end_src

   elixir ì†ŒìŠ¤ ê´‘ì‚°ì„ ê²€ìƒ‰í•˜ë ¤ë©´ =SPC S m x= í‚¤ë¥¼ ëˆ„ë¥´ë©´ ëœë‹¤.

   #+begin_example
     machine source_mine login elixir password ~/source_mine/elixir
   #+end_example

   ì†ŒìŠ¤ ê´‘ì‚° ë””ë ‰í„°ë¦¬ëŠ” auth-source íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•œë‹¤. ì´ëŸ° ì‹ìœ¼ë¡œ =~/.authinfo= ì— ì €ì¥í•˜ë©´ ëœë‹¤.

** my-jira

   #+begin_src elisp
     (require 'my-jira)
   #+end_src

   api base ì£¼ì†Œ, í”„ë¡œì íŠ¸, HTTP basic authenticationì— ì‚¬ìš©í•  usernameê³¼ passwordëŠ” auth-sourceë¥¼ ì‚¬ìš©í•´ì„œ ì ‘ê·¼í•œë‹¤. access keyë§Œ ë„£ìœ¼ë ¤ê³  í–ˆëŠ”ë°, ê·€ì°®ì•„ì„œ ë¡œì»¬ì—ì„œ ì €ì¥í•˜ëŠ” ê±¸ ì‹¹ë‹¤ ë„£ìŒ

   #+begin_example
     machine myjira login api-base-url password https://myjira.com
     machine myjira login project password AWESOME
     machine myjira login username password myname
     machine myjira login password password [SUPERSECRET KEY]
   #+end_example

   ì´ëŸ°ì‹ìœ¼ë¡œ =~/.authinfo= íŒŒì¼ì— ì €ì¥í•˜ë©´ ëœë‹¤.

** my-swarm

   #+begin_src elisp
     (require 'my-swarm)
   #+end_src

   api base ì£¼ì†Œ, project ì´ë¦„, username, p4 ticketì€ auth-sourceë¥¼ ì‚¬ìš©í•´ì„œ ì ‘ê·¼í•œë‹¤. p4 ticketë§Œ ë„£ìœ¼ë ¤ê³  í–ˆëŠ”ë°, ê·€ì°®ì•„ì„œ ë¡œì»¬ì—ì„œ ì €ì¥í•˜ëŠ” ê±¸ ì‹¹ë‹¤ ë„£ìŒ

   #+begin_example
     machine myswarm login username password MYUSERNAME
     machine myswarm login ticket password SUPERSECRET
     machine myswarm login host password https://helixswarm.com
     machine myswarm login project password AWESOME_PROJECT
   #+end_example

   ì´ëŸ°ì‹ìœ¼ë¡œ =~/.authinfo= íŒŒì¼ì— ì €ì¥í•˜ë©´ ëœë‹¤.

** my-org-cliplink

   =title - ohyecloudy.com= ì‹ìœ¼ë¡œ org linkë¥¼ ë§Œë“œëŠ” org-cliplinkì— ì·¨í–¥ì„ ê°€ë¯¸í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œë“œí•œë‹¤.

   #+begin_src elisp
     (require 'my-org-cliplink)
   #+end_src

   =org-clinklink= í•¨ìˆ˜ì— ë°”ì¸ë”©ëœ í‚¤ë¥¼ =my/org-cliplink= ë¡œ ë°”ì¸ë”©í•œë‹¤.

   #+begin_src elisp
     (after! org
       (define-key org-mode-map [remap org-cliplink] 'my/org-cliplink))
   #+end_src

** my-org-cliplink-confluence

   Confluence í˜ì´ì§€ëŠ” APIë¥¼ ì‚¬ìš©í•´ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ org-cliplinkì²˜ëŸ¼ org-mode ë§í¬ markupì„ ì¶”ê°€í•œë‹¤. ë¹„ê³µê°œ Confluence í˜ì´ì§€ ì •ë³´ ì‚½ì…ë„ ì§€ì›í•œë‹¤.

   Confluence 6.x ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ í˜„ì¬ HTTP ê¸°ë³¸ ì¸ì¦ ë°©ë²•ë§Œ ì§€ì›í•œë‹¤.

   [[http://ohyecloudy.com/emacsian/2023/04/22/auth-source-easypg/][auth-source]]ì— ë‹¤ìŒê³¼ ê°™ì€ id, password ì •ë³´ê°€ ì €ì¥ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.

   #+begin_example
     machine CONFLUENCE_HOST login ohyecloudy password SUPER_SECRET
   #+end_example

   host ì •ë³´ì™€ API ì£¼ì†Œ ì •ë³´ë¥¼ ë§¤ì¹­í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ì˜í•œë‹¤. ëª¨ë‘ ë‹¤ httpë¥¼ ì‚¬ìš©í•´ë„ ë  ê²ƒ ê°™ì§€ë§Œ ëª¨ë‘ ì„¸íŒ…í•˜ëŠ” ì‚¬ëŒì—ê²Œ ë– ë„˜ê¸°ê¸° ìœ„í•œ ë¦¬ìŠ¤íŠ¸ë‹¤.

   #+begin_src elisp :lexical t :tangle no
     (add-to-list 'my/org-cliplink-confluence-host-api-urls '("CONFLUENCE_HOST" . "http://CONFLUENCE_HOST"))
   #+end_src

   #+begin_src elisp
     (require 'my-org-cliplink)
     (require 'my-org-cliplink-confluence)
   #+end_src

   Confluence APIë¥¼ ì‚¬ìš©í•´ì„œ í˜ì´ì§€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ org-clip ì»¤ìŠ¤í…€ í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤.

   #+begin_src elisp :lexical t
     (setq my/org-cliplink-custom-retrieve-title-hook
           #'my/org-cliplink-confluence-title)
   #+end_src

** my-web-archive

   [[https://web.archive.org/][Web Archive]] ì„œë¹„ìŠ¤ì— URLì„ ìš”ì²­í•´ ì•„ì¹´ì´ë¸Œ URLì„ ê°€ì ¸ì˜¤ëŠ” íŒ¨í‚¤ì§€ë¥¼ ë¡œë“œí•œë‹¤. ì•„ì¹´ì´ë¸Œ URLì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ ì ìš©í•  íŒ¨í‚¤ì§€ì¸ my-org-cliplink, my-build-link-sectionë¥¼ ê°™ì´ ë¡œë“œí•œë‹¤.

   #+begin_src elisp :lexical t
     (require 'my-web-archive)
     (require 'my-org-cliplink)
     (require 'my-build-link-section)
   #+end_src

   =my-org-cliplink= íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•´ ì•„ì¹´ì´ë¸Œ URL ë¿ë§Œ ì•„ë‹ˆë¼ ì›¹í˜ì´ì§€ íƒ€ì´í‹€ë„ ê°€ì ¸ì™€ì„œ ë§í¬ë¥¼ ë§Œë“¤ê²Œ í•œë‹¤.

   #+begin_src elisp :lexical t
     (defun my/web-archive-with-webpage-title (url archive-url)
       (org-cliplink-retrieve-title
        url
        (lambda (url title)
          (let* ((origin-org-link (my/org-cliplink-link-transformer url title))
                 (archive-link (format "([[%s][archive]])" archive-url)))
            (my/web-archive-write-line my/web-archive-result-buffer-name
                                       (format "%s%s" origin-org-link archive-link))))))
   #+end_src

   í´ë¦½ë³´ë“œ ì»¨í…ì¸ ë¥¼ ê°€ì ¸ì™€ ë§í¬ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤.

   #+begin_src elisp :lexical t
     (defun my/org-cliplink-with-archive-url ()
       (interactive)
       (my/web-archive-async (list (org-cliplink-clipboard-content))
                             #'my/web-archive-with-webpage-title))
   #+end_src

   íƒ€ì´í‹€ë§Œ ê°€ì ¸ì™€ì„œ ë§í¬ë¥¼ ë§Œë“œëŠ” í‚¤ë°”ì¸ë”© =SPC m l c= ì—ì„œ cë¥¼ ëŒ€ë¬¸ìë¡œ ì…ë ¥í•˜ë©´ ì•„ì¹´ì´ë¸Œ URLë„ ê°™ì´ ê°€ì ¸ì˜¨ë‹¤.

   #+begin_src elisp :lexical t
     (after! org
       (map! :map org-mode-map
             :localleader
             (:prefix ("l" . "links")
                      "C" #'my/org-cliplink-with-archive-url)))
   #+end_src

   org ë¬¸ì„œì— ìˆëŠ” ë§í¬ë¥¼ ê¸ê³  ì•„ì¹´ì´ë¸Œ URLë„ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ =my/build-link-section= íŒ¨í‚¤ì§€ í•¨ìˆ˜ë¥¼ í™•ì¥.

   #+begin_src elisp :lexical t
     (defun my/build-link-section-with-archive-urls-async ()
       (interactive)
       (my/build-link-section (lambda (links)
                                (my/web-archive-async links
                                                      #'my/web-archive-with-webpage-title))))
   #+end_src

* my functions

  #+begin_src elisp
    ;;; http://emacsredux.com/blog/2013/03/27/copy-filename-to-the-clipboard/
    (defun copy-file-name-to-clipboard ()
      "Copy the current buffer file name to the clipboard."
      (interactive)
      (let ((filename (if (equal major-mode 'ranger-mode)
                          default-directory
                        (buffer-file-name))))
        (when filename
          (kill-new filename)
          (message "Copied buffer file name '%s' to the clipboard." filename))))

    (defun jekyll-default-image ()
      (interactive)
      (let ((name (format "{{ site.asseturl }}/%s-00.jpg"
                          (file-name-base (buffer-file-name)))))
        (kill-new name)
        (message "Copied default image name '%s' to the clipboard." name)))

    (defun toggle-camelcase-underscores ()
      "Toggle between camelcase and underscore notation for the symbol at point."
      (interactive)
      (save-excursion
        (let* ((bounds (bounds-of-thing-at-point 'symbol))
               (start (car bounds))
               (end (cdr bounds))
               (currently-using-underscores-p (progn (goto-char start)
                                                     (re-search-forward "_" end t))))
          (if currently-using-underscores-p
              (progn
                (upcase-initials-region start end)
                (replace-string "_" "" nil start end)
                (downcase-region start (1+ start)))
            (replace-regexp "\\([A-Z]\\)" "_\\1" nil (1+ start) end)
            (downcase-region start (cdr (bounds-of-thing-at-point 'symbol)))))))

    (require 'subr-x)
    (defun open-issue-page ()
      (interactive)
      (when (not (boundp 'issue-base-page)) (throw 'issue-base-page "not bound"))
      (let* ((line (thing-at-point 'line))
             ;; issue numberë¥¼ ëª» ì°¾ì•˜ì„ ë•Œ, numberê°€ nilì´ ë˜ì•¼ í•˜ëŠ”ë°, ê³µë°± ë¬¸ìê°€ ë“¤ì–´ê°„ë‹¤
             ;; ì›ì¸ì„ ëª» ì°¾ì•„ì„œ string trimì„ í•œ í›„ ê¸¸ì´ë¥¼ ì¬ì„œ ê²€ì‚¬í•œë‹¤.
             (number (find-issue-number line)))
        (if (> (length (string-trim number)) 0)
            (browse-url (format "%s/%s" issue-base-page number))
          (message "failed find issue number - %s" line))))

    (defun find-issue-number (line)
      (save-match-data
        (string-match "#\\([0-9]+\\)" line)
        (match-string 1 line)))

    (defun unevernotify ()
      (interactive)
      (while (re-search-forward "\u00a0" nil t)
        (replace-match " ")))
  #+end_src

* windows coding system

  #+begin_src elisp
    (when IS-WINDOWS
      (setq default-process-coding-system '(utf-8 . cp949)))
  #+end_src

  windowsì—ì„œëŠ” í”„ë¡œì„¸ìŠ¤ë¡œ ë³´ë‚´ëŠ” coding systemì„ cp949ë¡œ ê³ ì •í•œë‹¤. =bashrc= ì—ì„œ =chcp.com 65001= ì„ ì‹¤í–‰í•˜ê²Œ í•´ë„ =rg.exe= íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì— =utf-8= ì¸ì½”ë”©ìœ¼ë¡œ ë³´ë‚´ë©´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. ì •í™•í•œ ì›ì¸ì€ ì°¾ì§€ ëª»í–ˆë‹¤.

* =browse-url= ì—ì„œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ =chrome= ìœ¼ë¡œ ë³€ê²½

  #+begin_src elisp
    (when IS-WINDOWS
      (setq browse-url-chrome-program "run-chrome.bat")
      (setq browse-url-handlers
            '(("nexon.com" . browse-url-default-browser)
              ("." . browse-url-chrome))))
  #+end_src

  ìœˆë„ìš°ì—ì„œëŠ” ê¸°ë³¸ ë¸Œë¼ìš°ì €ë¥¼ =chrome= ì´ ì•„ë‹Œ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì„¤ì •í•  ë•Œê°€ ë§ì•„ì„œ emacsì—ì„œ urlë¡œ ì—´ ë•ŒëŠ” =chrome= ìœ¼ë¡œ ê³ ì •. ì´í›„ macOSì—ë„ ì¼ê´„ ì ìš©.

* windows bash shell

  #+begin_src elisp
    ;; windowsì—ì„œ shellì„ ì‚¬ìš©í•  ë•Œ, windowsì—ì„œ ì‚¬ìš©í•˜ëŠ” code pageë„ UTF-8ë¡œ ë³€ê²½í•œë‹¤
    ;; ê·¸ë ‡ê²Œ í•˜ë ¤ê³  -l ì˜µì…˜ì„ ë¶™ì—¬ì„œ ë¡œê·¸ì¸ì„ í•œë‹¤. ê·¸ ê²°ê³¼ interactive ëª¨ë“œë¡œ ì…¸ì„ ì‹¤í–‰í•œë‹¤
    ;; interactive ëª¨ë“œë¡œ ì‹¤í–‰í•´ì„œ ~/.bashrc ì…¸ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì‹¤í–‰í•˜ê²Œ í•œë‹¤.
    ;; ~/.bashrc íŒŒì¼ì—ì„œ windowsì¼ ë•Œ, chcp.com 65001 ëª…ë ¹ì„ ì‹¤í–‰í•´ì„œ code pageë„ UTF-8ë¡œ ë³€ê²½í•œë‹¤.
    ;;
    ;; -i ì˜µì…˜ì€ job control ìƒì„±ì„ ëª»í•´ì„œ ëŒ€ì‹  -l ì˜µì…˜ì„ ì‚¬ìš©í–ˆë‹¤.
    ;; bash: cannot set terminal process group (-1): Inappropriate ioctl for device
    ;; bash: no job control in this shell
    (when IS-WINDOWS
      (setq shell-command-switch "-lc"))

    ;;; shell
    (when IS-WINDOWS
      (let* ((combine-path (lambda (dir dir-or-file)
                             (concat (file-name-as-directory dir) dir-or-file)))
             (base-dir "C:/git-sdk-64")
             (mingw64-bin-dir (funcall combine-path base-dir "mingw64/bin"))
             (msys2-bin-dir (funcall combine-path base-dir "usr/bin"))
             (bash-path (funcall combine-path msys2-bin-dir "bash.exe")))
        (add-to-list 'exec-path msys2-bin-dir)
        (add-to-list 'exec-path mingw64-bin-dir)
        (setq explicit-shell-file-name bash-path)
        (setq shell-file-name bash-path)
        (setenv "SHELL" bash-path)
        (setq explicit-bash.exe-args '("--noediting" "--login" "-i"))
        (setenv "PATH" (concat mingw64-bin-dir path-separator
                               (concat msys2-bin-dir path-separator
                                       (getenv "PATH"))))))
  #+end_src

  windowsì—ì„œ git sdkë¥¼ ê¹” ë•Œ, ì„¤ì¹˜í•œ bashë¥¼ shellë¡œ ì„¤ì •í•œë‹¤.

* macOS compile options

  #+begin_src elisp :exports both
    (when IS-MAC
      (customize-set-variable 'native-comp-driver-options '("-Wl,-w")))
  #+end_src

  #+begin_example
    ld: warning: -undefined dynamic_lookup may not work with chained fixups
  #+end_example

  ì´ëŸ° ì—ëŸ¬ê°€ ë³´ì´ëŠ” ê±¸ ë°œê²¬. '[[https://www.reddit.com/r/emacs/comments/xfhnzz/weird_errors_with_latest_build_of_emacs/][Reddit - Dive into anything - reddit.com]]' ì—ì„œ í•´ê²° ë°©ë²•ì„ ì°¾ìŒ

* load config.local.el

  #+begin_src elisp :lexical t
    (load! "config.local.el" doom-user-dir t)
  #+end_src

  ë²„ì „ ì»¨íŠ¸ë¡¤í•˜ì§€ ì•Šê³  ë¡œì»¬ì—ë§Œ ë‹´ì•„ë‘” ì„¤ì •ì„ ë¡œë“œí•œë‹¤.

* TODO ì„¤ì •

  #+begin_src elisp :tangle no
    ;; tabìœ¼ë¡œ electic pair ë°–ìœ¼ë¡œ ë‚˜ì˜¬ ìˆ˜ ìˆê²Œ í•œë‹¤
    ;; https://www.reddit.com/r/emacs/comments/3n1j4x/anyway_to_tab_out_of_parentheses/
    (progn
      (defun smart-tab-jump-out-or-indent (&optional arg)
        (interactive "P")
        (let ((closings (mapcar #'cdr electric-pair-pairs))
              (after (char-after)))
          (if (member after closings)
              (forward-char 1)
            (indent-for-tab-command arg))))

      (global-set-key [remap indent-for-tab-command] #'smart-tab-jump-out-or-indent))
  #+end_src
